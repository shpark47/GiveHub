<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
    <link href="/css/reset.css" rel="stylesheet" type="text/css">
    <link href="/css/common.css" rel="stylesheet" type="text/css">
    <link href="/css/navBar.css" rel="stylesheet" type="text/css">
    <link href="/css/donationDetailPage.css" rel="stylesheet" type="text/css">
    <style>
        .main_menu_wrap a {
            color: #1a1a1a !important;
        }


        .login_wrap button {
            background: none;
            color: #1a1a1a !important;
            border: none;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
        }

    </style>
</head>
<body>
<div th:replace="~{/common/navbar.html :: navbar}"></div>
<script src="/js/common.js"></script>

<section>
    <div class="container">
        <div class="detail_title_wrap">
            <p class="title_sub_text">소식</p>
            <h1 class="donation_detail_text">[[${n.newsTitle}]]</h1>
        </div>

        <p id="doNo" hidden>[[${n.doNo}]]</p>
        <p id="newsNo" hidden>[[${n.newsNo}]]</p>
        <p hidden>[[${session.loginUser != null ? session.loginUser.memNo : ''}]]</p>

        <div class="donation_info">
            <div class="donation_img_wrap">
                <img th:src="@{${n.thumbnailPath}}" alt="">
            </div>
            <div class="donation_info_text_wrap">
                <ul>
                    <li>
                        <p>후원 프로젝트</p>
                        <p class="donation_data" th:text="${n.doTitle}"></p>
                    </li>
                    <li>
                        <p>후원자</p>
                        <p class="donation_data" th:text="${n.memName}"></p>
                    </li>
                </ul>

            </div>
        </div>
        <div style="text-align: center" class="bar-label"></div>
        <div class="bar-container">
        </div>
        <!-- ajax -->
        <!--			<script type="text/javascript">-->
        <!--				$(document).ready(function() {-->
        <!--					document.getElementById("Content_bar").style.width = '20%';-->
        <!--				});-->
        <!--			</script>-->
        <br><br>
        <div class="doantion_content" th:utext="${n.newsContent}">

        </div>
        <br><br>
        <div class="content_board_wrap">
            <table class="content_board">
            </table>
        </div>

        <th:block th:if="${session.loginUser != null}">
            <div class="news_write_wrap">
                <button class="editBtn" th:if="${session.loginUser.memNo == n.memNo}" id="editBtn" type="button" onclick="doEdit()">
                    수정
                </button>
                <button class="delete_btn" th:if="${session.loginUser.memNo == n.memNo}" id="deleteBtn" type="button" onclick="doDelete()">
                    삭제
                </button>
            </div>
        </th:block>
       
    </div>

</section>

<footer>
    <div th:replace="~{/common/footer.html :: footer_bar}"></div>
</footer>
<script>
    const doEdit = () =>{
        const newsNo = document.getElementById("newsNo").textContent;
        window.location.href="/news/edit/"+newsNo;
    }
</script>
</body>
</html>